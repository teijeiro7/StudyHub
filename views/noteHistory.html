<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/nav.css" />
    <link rel="stylesheet" href="../styles/noteHistory.css" />
    <link rel="stylesheet" href="../styles/footer.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>StudyHub - Historial de Versiones</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Itim&family=Just+Another+Hand&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="pgina-principal">
        <!-- Header navigation -->
        <div class="overlap-group">
            <div class="text-wrapper">
                <a href="index.html" style="text-decoration: none; color: inherit;">StudyHub</a>
            </div>
            <div class="user-controls">
                <a href="search.html"><img class="image-4" src="../images/search.png" alt="Icono" /></a>
                <a href="index.html"><img class="image-3" src="../images/home.png" alt="Icono" /></a>
                <a href="settings.html"><img class="image-2" src="../images/settings.png" alt="Icono" /></a>
                <a href="notifications.html"><img class="image" src="../images/notifications.png" alt="Icono" /></a>
                <a href="profile.html"><img class="img" src="../images/user.png" alt="Icono" /></a>
                <div class="username">
                    <h3 class="username_title"><a href="profile.html">hola123</h3></a>
                </div>
            </div>
        </div>

        <!-- Menú de navegación -->
        <div class="nav-menu">
            <div class="overlap-2">
                <div class="text-wrapper-3"><a href="search.html">Búsqueda</a></div>
            </div>
            <div class="div-wrapper">
                <div class="text-wrapper-4"><a href="myDocs.html">Mis Archivos</a></div>
            </div>
            <div class="overlap-3">
                <div class="text-wrapper-4"><a href="sharedDocs.html">Compartidos</a></div>
            </div>
        </div>

        <!-- Título principal -->
        <div class="text-wrapper-2">Historial de Versiones</div>

        <!-- Información de la nota -->
        <div class="document-info">
            <div class="document-icon">
                <i class="far fa-sticky-note"></i>
            </div>
            <div class="document-details">
                <h3 class="document-name" id="documentName">Nota rápida Latín</h3>
                <p class="document-meta">Nota • Última modificación: 15/03/2025</p>
            </div>
            <div class="document-actions">
                <a href="quickNotesMenu.html" class="back-button"><i class="fas fa-arrow-left"></i> Volver a Mis
                    Notas</a>
                <a href="newNote.html" class="action-button"><i class="fas fa-edit"></i> Editar versión actual</a>
            </div>
        </div>

        <!-- Timeline del historial de versiones -->
        <div class="history-timeline">
            <!-- Versión actual -->
            <div class="version-item current">
                <div class="version-dot"></div>
                <div class="version-card">
                    <div class="version-header">
                        <div class="version-info">
                            <h4>Versión actual</h4>
                            <span class="version-date">15/03/2025, 14:32</span>
                        </div>
                        <div class="version-user">
                            <img src="../images/user.png" alt="Usuario">
                            <span>hola123 (tú)</span>
                        </div>
                    </div>
                    <div class="version-changes">
                        <p>Ampliación de la nota con vocabulario adicional y corrección de errores gramaticales.</p>
                    </div>
                    <div class="version-actions">
                        <button class="action-btn"><i class="fas fa-eye"></i> Visualizar</button>
                        <button class="action-btn"><i class="fas fa-print"></i> Imprimir</button>
                        <button class="action-btn"><i class="fas fa-share-alt"></i> Compartir</button>
                    </div>
                </div>
            </div>

            <!-- Versión anterior 1 -->
            <div class="version-item">
                <div class="version-dot"></div>
                <div class="version-card">
                    <div class="version-header">
                        <div class="version-info">
                            <h4>Versión 2</h4>
                            <span class="version-date">12/03/2025, 09:15</span>
                        </div>
                        <div class="version-user">
                            <img src="../images/user.png" alt="Usuario">
                            <span>hola123 (tú)</span>
                        </div>
                    </div>
                    <div class="version-changes">
                        <p>Añadidas nuevas frases en latín con sus traducciones y ejemplos de uso.</p>
                    </div>
                    <div class="version-actions">
                        <button class="action-btn"><i class="fas fa-eye"></i> Visualizar</button>
                        <button class="action-btn"><i class="fas fa-exchange-alt"></i> Restaurar</button>
                    </div>
                </div>
            </div>

            <!-- Versión anterior 2 -->
            <div class="version-item">
                <div class="version-dot"></div>
                <div class="version-card">
                    <div class="version-header">
                        <div class="version-info">
                            <h4>Versión inicial</h4>
                            <span class="version-date">10/03/2025, 16:45</span>
                        </div>
                        <div class="version-user">
                            <img src="../images/user.png" alt="Usuario">
                            <span>hola123 (tú)</span>
                        </div>
                    </div>
                    <div class="version-changes">
                        <p>Creación inicial de la nota con vocabulario básico de latín para la clase.</p>
                    </div>
                    <div class="version-actions">
                        <button class="action-btn"><i class="fas fa-eye"></i> Visualizar</button>
                        <button class="action-btn"><i class="fas fa-exchange-alt"></i> Restaurar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="overlap">
            <div class="click-connect">Click&amp;Connect</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Funcionalidad para los botones de restaurar
            const restoreButtons = document.querySelectorAll('.action-btn:has(.fa-exchange-alt)');

            restoreButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const versionInfo = this.closest('.version-card').querySelector('.version-info h4').textContent;
                    if (confirm(`¿Estás seguro de que quieres restaurar esta nota a la ${versionInfo}? Los cambios actuales se perderán.`)) {
                        alert('Nota restaurada correctamente a la versión seleccionada.');
                        window.location.href = 'newNote.html'; // Redireccionar a la vista de edición con la versión restaurada
                    }
                });
            });

            // Funcionalidad para los botones de visualizar
            const viewButtons = document.querySelectorAll('.action-btn:has(.fa-eye)');

            viewButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const versionInfo = this.closest('.version-card').querySelector('.version-info h4').textContent;
                    alert(`Visualizando la nota en modo de solo lectura: ${versionInfo}`);
                    // Aquí se podría abrir un modal o redireccionar a una vista de solo lectura
                });
            });

            // Funcionalidad para el botón de compartir
            const shareButton = document.querySelector('.action-btn:has(.fa-share-alt)');

            if (shareButton) {
                shareButton.addEventListener('click', function () {
                    alert('Abriendo opciones para compartir la nota...');
                    // Aquí se podría abrir un modal de compartir
                });
            }

            // Funcionalidad para el botón de imprimir
            const printButton = document.querySelector('.action-btn:has(.fa-print)');

            if (printButton) {
                printButton.addEventListener('click', function () {
                    alert('Preparando la nota para imprimir...');
                    // Aquí se podría abrir la vista de impresión
                });
            }
        });
    </script>
</body>

</html>